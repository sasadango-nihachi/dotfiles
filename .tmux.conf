# プレフィックスキーをCtrl+bからCtrl+gに変更
unbind C-b
set -g prefix C-g
bind C-g send-prefix

# Vimスタイルのキーバインドを有効化（コピーモード時）
setw -g mode-keys vi

# コピーモードで'v'キーで選択開始（Vimと同じ操作）
bind -T copy-mode-vi v send -X begin-selection

# コピーモードで'y'キーでクリップボードにコピー
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "pbcopy"

# マウスドラッグ終了時に自動的にクリップボードにコピー
bind -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "pbcopy"

# マウスサポートを有効化（クリック移動、ドラッグリサイズ、スクロール等）
set -g mouse on

# macOSのpbcopyを使用してクリップボードにコピー
set -s copy-command 'pbcopy'

# 'Ctrl+g → r'で設定ファイルを再読み込み
bind r source-file ~/.tmux.conf \; display "Reloaded"

# ペイン操作の設定
# 'Ctrl+g → |'で現在のペインを左右に分割
bind | split-window -h

# 'Ctrl+g → -'で現在のペインを上下に分割
bind - split-window -v

# Vimスタイルでペイン間を移動（Ctrl+g → h/j/k/l）
bind h select-pane -L  # 左のペインへ移動
bind j select-pane -D  # 下のペインへ移動
bind k select-pane -U  # 上のペインへ移動
bind l select-pane -R  # 右のペインへ移動

# ウィンドウ番号を0始まりから1始まりに変更
set-option -g base-index 1

# ペイン番号も1始まりに変更（一貫性のため）
set-option -g pane-base-index 1